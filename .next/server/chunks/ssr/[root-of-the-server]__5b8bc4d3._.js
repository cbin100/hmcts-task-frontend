module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);async function d(a,b={}){let c=await fetch(`https://hmcts-task-api.peloshop.co.uk/api${a}`,{...b,headers:{Accept:"application/json","Content-Type":"application/json",...b.headers||{}}}),e=await c.json().catch(()=>({}));return{ok:c.ok,status:c.status,json:e,data:c.ok?e:void 0}}async function e(a){let b=new URLSearchParams;a.page&&b.set("page",String(a.page)),a.status&&b.set("status",a.status);let{ok:c,status:e,json:f}=await d(`/tasks?${b.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!c)throw{status:e,json:f};return f}async function f(a){let{ok:b,status:c,json:e}=await d("/tasks",{method:"POST",body:JSON.stringify(a)});return{ok:b,status:c,json:e}}async function g(a,b){let{ok:c,status:e,json:f}=await d(`/tasks/${a}/status`,{method:"PATCH",body:JSON.stringify({status:b})});return{ok:c,status:e,json:f}}async function h(a){let{ok:b,status:c,json:e}=await d(`/tasks/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return{ok:b,status:c,json:e}}function i({onTaskCreated:a}){let[d,e]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)({}),o=async b=>{b.preventDefault(),l(!0),n({});let{ok:c,status:k,json:m}=await f({title:d,description:g,status:"pending",due_at:i});if(!c){422===k&&n(m.errors??{}),l(!1);return}e(""),h(""),j(""),l(!1),a()};return(0,b.jsxs)("form",{onSubmit:o,className:"mb-8 space-y-3",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Create Task"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{required:!0,placeholder:"Title",value:d,onChange:a=>e(a.target.value),className:"border p-2 w-full rounded"}),m.title&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.title[0]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("textarea",{placeholder:"Description",value:g,onChange:a=>h(a.target.value),className:"border p-2 w-full rounded"}),m.description&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.description[0]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{required:!0,type:"datetime-local",value:i,onChange:a=>j(a.target.value),className:"border p-2 w-full rounded"}),m.due_at&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.due_at[0]})]}),(0,b.jsx)("button",{disabled:k,className:"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",children:k?"Creating...":"Create Task"})]})}function j({tasks:a,refresh:c}){let d=async(a,b)=>{await g(a,b),c()},e=async a=>{await h(a),c()};return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Tasks"}),a.map(a=>{let c=new Date(a.due_at)<new Date;return(0,b.jsxs)("div",{style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px",background:c?"#ffe6e6":"#fff"},children:[(0,b.jsx)("strong",{children:a.title}),(0,b.jsx)("p",{children:a.description}),(0,b.jsxs)("p",{children:["Status: ",a.status]}),(0,b.jsxs)("p",{children:["Due: ",new Date(a.due_at).toLocaleString()]}),(0,b.jsxs)("select",{value:a.status,onChange:b=>d(a.id,b.target.value),children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"completed",children:"Completed"})]}),(0,b.jsx)("button",{onClick:()=>e(a.id),style:{marginLeft:"10px"},children:"Delete"})]},a.id)})]})}function k(){let[a,d]=(0,c.useState)([]),[f,g]=(0,c.useState)(null),[h,k]=(0,c.useState)(1),[l,m]=(0,c.useState)(""),n=async(a=1,b=l)=>{let c=await e({page:a,status:b});d(c.data),g(c.meta),k(a)};return(0,c.useEffect)(()=>{n(1)},[]),(0,b.jsxs)("main",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto"},children:[(0,b.jsx)("h1",{children:"HMCTS Task Manager"}),(0,b.jsx)(i,{onTaskCreated:()=>n(h)}),(0,b.jsxs)("div",{style:{margin:"20px 0"},children:[(0,b.jsx)("label",{children:"Status: "}),(0,b.jsxs)("select",{value:l,onChange:a=>{let b=a.target.value;m(b),n(1,b)},children:[(0,b.jsx)("option",{value:"",children:"All"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,b.jsx)(j,{tasks:a,refresh:()=>n(h)}),f&&(0,b.jsxs)("div",{style:{marginTop:"20px"},children:[(0,b.jsx)("button",{disabled:h<=1,onClick:()=>n(h-1),children:"Previous"}),(0,b.jsxs)("span",{style:{margin:"0 10px"},children:["Page ",f.current_page," of ",f.last_page]}),(0,b.jsx)("button",{disabled:h>=f.last_page,onClick:()=>n(h+1),children:"Next"})]})]})}a.s(["default",()=>k],60350)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5b8bc4d3._.js.map